# -*- coding: utf-8 -*-
"""ì¡¸í”¼ë€_AI_ëª¨ë¸

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1382TKJvPiyQPPafdozR-HhXpiQfYcpd6
"""

import sys


# Google Colab í™˜ê²½ì—ì„œë§Œ ì‹¤í–‰ë˜ë„ë¡ í•¨
if 'google.colab' in sys.modules:
    import os
    os.system("echo 'debconf debconf/frontend select Noninteractive' | sudo debconf-set-selections")
    os.system("sudo apt-get -qq -y install fonts-nanum")

    # ë‚˜ëˆ” í°íŠ¸ ê²½ë¡œë¥¼ Matplotlibì— ë“±ë¡
   

plt.rcParams['font.family'] = 'NanumGothic'    #ì‚¬ìš© ë°©ë²•1
plt.rc('font', family='NanumBarunGothic', size=11) #ì‚¬ìš© ë°©ë²•2
print(plt.rcParams['font.family'], plt.rcParams['font.size'])   # í°íŠ¸í™•ì¸



# â‘  ë°ì´í„°ì…‹ ë§Œë“¤ê¸°
import pandas as pd

data = {
    "ë‚˜ì´": [25, 35, 60, 45, 70, 30, 20, 50, 65, 40,
           18, 55, 33, 42, 67, 38, 26, 48, 60, 31],
    "ì²´ì¤‘": [60, 70, 50, 65, 55, 68, 72, 59, 53, 61,
           49, 54, 63, 58, 52, 66, 62, 60, 51, 67],
    "ìˆ˜ë©´ì‹œì‘_ì‹œê°": [23, 22, 21, 22.5, 20.5, 23.5, 24, 22, 21.5, 23,
                  22.5, 21, 23, 23.5, 20, 22, 22, 21, 21.5, 23],
    "ì¶”ì²œ_ë³µìš©ëŸ‰": [5, 5, 2.5, 5, 2.5, 5, 5, 5, 2.5, 5,
                 5, 2.5, 5, 5, 2.5, 5, 5, 5, 2.5, 5],
    "ì¶”ì²œ_ë³µìš©ì‹œê°": [22.5, 21.5, 20, 21.5, 19.5, 22, 22.5, 21.5, 20, 22,
                  21.5, 20.5, 22, 22.5, 19.5, 21, 21.5, 20.5, 20, 22]
}

df = pd.DataFrame(data)

# â‘¡ ëª¨ë¸ í•™ìŠµ
from sklearn.linear_model import LinearRegression

X = df[["ë‚˜ì´", "ì²´ì¤‘", "ìˆ˜ë©´ì‹œì‘_ì‹œê°"]]
y = df[["ì¶”ì²œ_ë³µìš©ëŸ‰", "ì¶”ì²œ_ë³µìš©ì‹œê°"]]  # ë³µìš©ëŸ‰ + ë³µìš©ì‹œê° í•¨ê»˜ í•™ìŠµ

model = LinearRegression()
model.fit(X, y)

# â‘¢ ì‚¬ìš©ì ì…ë ¥
ë‚˜ì´ = float(input("ë‚˜ì´ë¥¼ ì…ë ¥í•˜ì„¸ìš”: "))
ì²´ì¤‘ = float(input("ì²´ì¤‘ì„ ì…ë ¥í•˜ì„¸ìš” (kg): "))
ìˆ˜ë©´ì‹œê° = float(input("ìˆ˜ë©´ ì‹œì‘ ì‹œê°„ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: 22.5): "))

ì…ë ¥ê°’ = pd.DataFrame([[ë‚˜ì´, ì²´ì¤‘, ìˆ˜ë©´ì‹œê°]], columns=["ë‚˜ì´", "ì²´ì¤‘", "ìˆ˜ë©´ì‹œì‘_ì‹œê°"])

# â‘£ ì˜ˆì¸¡
ì˜ˆì¸¡ê²°ê³¼ = model.predict(ì…ë ¥ê°’)
ì˜ˆì¸¡_ë³µìš©ëŸ‰ = round(ì˜ˆì¸¡ê²°ê³¼[0][0], 2)
ì˜ˆì¸¡_ë³µìš©ì‹œê° = round(ì˜ˆì¸¡ê²°ê³¼[0][1], 2)

print(f"\nâœ… ì¶”ì²œ ë³µìš©ëŸ‰: {ì˜ˆì¸¡_ë³µìš©ëŸ‰} mg")
print(f"ğŸ•’ ì¶”ì²œ ë³µìš© ì‹œê°: {ì˜ˆì¸¡_ë³µìš©ì‹œê°} ì‹œ")

# â‘¤ ìœ„í—˜ ê²½ê³  ì‹œìŠ¤í…œ
if ë‚˜ì´ >= 65 and ì²´ì¤‘ <= 50 and ì˜ˆì¸¡_ë³µìš©ëŸ‰ > 5:
    print("âš ï¸ ê³ ë ¹ ì €ì²´ì¤‘ ìƒíƒœì—ì„œ ë³µìš©ëŸ‰ì´ ë†’ìŠµë‹ˆë‹¤. ì˜ì‚¬ ìƒë‹´ ê¶Œì¥!")
elif ì˜ˆì¸¡_ë³µìš©ëŸ‰ > 7.5:
    print("âš ï¸ ë³µìš©ëŸ‰ì´ ì¼ë°˜ ê¶Œì¥ëŸ‰ë³´ë‹¤ ë†’ìŠµë‹ˆë‹¤. ë³µìš© ì£¼ì˜!")
else:
    print("âœ… ë³µìš© ì•ˆì „ ë²”ìœ„ì…ë‹ˆë‹¤.")

# â‘¥ ì •ê·œë¶„í¬ ê¸°ë°˜ ìˆ˜ë©´ ì§€ì† ì‹œê°„ ì˜ˆì¸¡
from scipy.stats import norm
import matplotlib.pyplot as plt

í‰ê· ìˆ˜ë©´ = ì˜ˆì¸¡_ë³µìš©ëŸ‰  # ë³µìš©ëŸ‰(mg)ì´ ê³§ í‰ê·  ìˆ˜ë©´ ì‹œê°„
í‘œì¤€í¸ì°¨ = 1

P_4_to_6 = norm.cdf(6, í‰ê· ìˆ˜ë©´, í‘œì¤€í¸ì°¨) - norm.cdf(4, í‰ê· ìˆ˜ë©´, í‘œì¤€í¸ì°¨)
P_4_to_6 = round(P_4_to_6 * 100, 2)

print(f"\nğŸ“Šì˜ˆì¸¡ëœ í‰ê·  ìˆ˜ë©´ ì‹œê°„: {í‰ê· ìˆ˜ë©´} ì‹œê°„")
print(f"ğŸ§ªìˆ˜ë©´ì´ 4~6ì‹œê°„ ì§€ì†ë  í™•ë¥ : {P_4_to_6}%")

# â‘¦ ì •ê·œë¶„í¬ ì‹œê°í™”
x = [i/10 for i in range(int((í‰ê· ìˆ˜ë©´-3)*10), int((í‰ê· ìˆ˜ë©´+3)*10))]
y = [norm.pdf(val, í‰ê· ìˆ˜ë©´, í‘œì¤€í¸ì°¨) for val in x]

plt.figure(figsize=(8, 4))
plt.plot(x, y, label="ìˆ˜ë©´ ì§€ì† ì‹œê°„ ì •ê·œë¶„í¬")
plt.axvline(x=í‰ê· ìˆ˜ë©´, color='red', linestyle='--', label=f'ì˜ˆì¸¡ í‰ê· : {í‰ê· ìˆ˜ë©´}ì‹œê°„')
plt.fill_between(x, 0, y, where=[4<=val<=6 for val in x], color='skyblue', alpha=0.4, label="4~6ì‹œê°„ êµ¬ê°„")
plt.title("ì˜ˆìƒ ìˆ˜ë©´ ì§€ì† ì‹œê°„ ë¶„í¬")
plt.xlabel("ìˆ˜ë©´ ì§€ì† ì‹œê°„ (ì‹œê°„)")
plt.ylabel("í™•ë¥  ë°€ë„")
plt.legend()
plt.grid(True)
plt.show()

# â‘§ ì‚¬ìš©ì ìœ„ì¹˜ ì‹œê°í™”
plt.scatter(df["ì²´ì¤‘"], df["ë‚˜ì´"], c=df["ì¶”ì²œ_ë³µìš©ëŸ‰"], cmap='coolwarm', label="í›ˆë ¨ ë°ì´í„°")
plt.scatter(ì²´ì¤‘, ë‚˜ì´, color='black', marker='X', s=120, label="ë‹¹ì‹ ")
plt.xlabel("ì²´ì¤‘ (kg)")
plt.ylabel("ë‚˜ì´")
plt.title("ì‚¬ìš©ìì˜ ë³µìš© ìœ„ì¹˜ ì‹œê°í™”")
plt.legend()
plt.colorbar(label="ë³µìš©ëŸ‰ (mg)")
plt.grid(True)
plt.show()
